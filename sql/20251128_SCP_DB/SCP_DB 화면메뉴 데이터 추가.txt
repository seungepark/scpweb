-- 화면 리스트 조회 쿼리(getAuthList)
SELECT AI.AUTHCODE 
		FROM AUTHLIST AL
			LEFT OUTER JOIN AUTHINFO AI ON (AL.AUTHINFOUID = AI.UID AND AI.STATUS = 'ACT')
		WHERE AL.STATUS = 'ACT' 
			AND AL.AUTHGROUPUID IN (
				SELECT AU.AUTHGROUPUID FROM AUTHUSER AU WHERE AU.STATUS = 'ACT' AND AU.USERINFOUID = 2
			)
;

-- 권한그룹(uid 1 : system Developer / uid 2 : Captain)
select *
from AUTHGROUP; 

-- 그룹별 권한 목록(authinfouid : 권한기준정보 uid)
select *
from AUTHLIST; 

INSERT INTO authlist
(UID, AUTHGROUPUID, AUTHINFOUID, STATUS, INSERTBY, INSERTDATE, UPDATEBY, UPDATEDATE)
VALUES(523, 1, 104, 'ACT', 1, SYSDATE(), 1, SYSDATE());

INSERT INTO authlist
(UID, AUTHGROUPUID, AUTHINFOUID, STATUS, INSERTBY, INSERTDATE, UPDATEBY, UPDATEDATE)
VALUES(524, 1, 105, 'ACT', 1, SYSDATE(), 1, SYSDATE());

INSERT INTO authlist
(UID, AUTHGROUPUID, AUTHINFOUID, STATUS, INSERTBY, INSERTDATE, UPDATEBY, UPDATEDATE)
VALUES(525, 1, 106, 'ACT', 1, SYSDATE(), 1, SYSDATE());

INSERT INTO authlist
(UID, AUTHGROUPUID, AUTHINFOUID, STATUS, INSERTBY, INSERTDATE, UPDATEBY, UPDATEDATE)
VALUES(526, 1, 107, 'ACT', 1, SYSDATE(), 1, SYSDATE());

INSERT INTO authlist
(UID, AUTHGROUPUID, AUTHINFOUID, STATUS, INSERTBY, INSERTDATE, UPDATEBY, UPDATEDATE)
VALUES(527, 1, 108, 'ACT', 1, SYSDATE(), 1, SYSDATE());

INSERT INTO authlist
(UID, AUTHGROUPUID, AUTHINFOUID, STATUS, INSERTBY, INSERTDATE, UPDATEBY, UPDATEDATE)
VALUES(528, 1, 109, 'ACT', 1, SYSDATE(), 1, SYSDATE());

INSERT INTO authlist
(UID, AUTHGROUPUID, AUTHINFOUID, STATUS, INSERTBY, INSERTDATE, UPDATEBY, UPDATEDATE)
VALUES(529, 1, 110, 'ACT', 1, SYSDATE(), 1, SYSDATE());

INSERT INTO authlist
(UID, AUTHGROUPUID, AUTHINFOUID, STATUS, INSERTBY, INSERTDATE, UPDATEBY, UPDATEDATE)
VALUES(530, 1, 111, 'ACT', 1, SYSDATE(), 1, SYSDATE());

INSERT INTO authlist
(UID, AUTHGROUPUID, AUTHINFOUID, STATUS, INSERTBY, INSERTDATE, UPDATEBY, UPDATEDATE)
VALUES(531, 2, 110, 'ACT', 1, SYSDATE(), 1, SYSDATE());

INSERT INTO authlist
(UID, AUTHGROUPUID, AUTHINFOUID, STATUS, INSERTBY, INSERTDATE, UPDATEBY, UPDATEDATE)
VALUES(532, 2, 111, 'ACT', 1, SYSDATE(), 1, SYSDATE());

-- 권한 기준정보
-- 승선자 관리 > 시운전 승선 신청[읽기] : P_REG_CREW_R : 1310
-- 승선자 관리 > 시운전 승선 신청[쓰기] : P_REG_CREW_W : 1320
select * 
from AUTHINFO;

INSERT INTO authinfo
(UID, SHIPINFOUID, AUTHCODE, KIND, DESCRIPTION, UPAUTHINFOUID, ORD, STATUS, INSERTBY, INSERTDATE, UPDATEBY, UPDATEDATE)
VALUES(104, 2, 'P_REG_CREW_R', 'PAGE', '승선자 관리 > 시운전 승선 신청[읽기]', 0, 1310, 'ACT', 1, SYSDATE(), 1, SYSDATE());
INSERT INTO authinfo
(UID, SHIPINFOUID, AUTHCODE, KIND, DESCRIPTION, UPAUTHINFOUID, ORD, STATUS, INSERTBY, INSERTDATE, UPDATEBY, UPDATEDATE)
VALUES(105, 2, 'P_REG_CREW_W', 'PAGE', '승선자 관리 > 시운전 승선 신청[쓰기]', 0, 1320, 'ACT', 1, SYSDATE(), 1, SYSDATE());

-- 승선자 관리 > 앵카링 식사 신청[읽기] : P_ANCH_MEAL_R : 1410
-- 승선자 관리 > 앵카링 식사 신청[쓰기] : P_ANCH_MEAL_W : 1420
INSERT INTO authinfo
(UID, SHIPINFOUID, AUTHCODE, KIND, DESCRIPTION, UPAUTHINFOUID, ORD, STATUS, INSERTBY, INSERTDATE, UPDATEBY, UPDATEDATE)
VALUES(106, 2, 'P_ANCH_MEAL_R', 'PAGE', '승선자 관리 > 앵카링 식사 신청[읽기]', 0, 1410, 'ACT', 1, SYSDATE(), 1, SYSDATE());
INSERT INTO authinfo
(UID, SHIPINFOUID, AUTHCODE, KIND, DESCRIPTION, UPAUTHINFOUID, ORD, STATUS, INSERTBY, INSERTDATE, UPDATEBY, UPDATEDATE)
VALUES(107, 2, 'P_ANCH_MEAL_W', 'PAGE', '승선자 관리 > 앵카링 식사 신청[쓰기]', 0, 1420, 'ACT', 1, SYSDATE(), 1, SYSDATE());



-- 승선자 관리 > 실적 집계(앵카링)[읽기] : P_RESULT_MEAL_R : 1510
-- 승선자 관리 > 실적 집계(앵카링)[쓰기] : P_RESULT_MEAL_W : 1510
INSERT INTO authinfo
(UID, SHIPINFOUID, AUTHCODE, KIND, DESCRIPTION, UPAUTHINFOUID, ORD, STATUS, INSERTBY, INSERTDATE, UPDATEBY, UPDATEDATE)
VALUES(108, 2, 'P_RESULT_MEAL_R', 'PAGE', '승선자 관리 > 실적 집계[읽기]', 0, 1510, 'ACT', 1, SYSDATE(), 1, SYSDATE());
INSERT INTO authinfo
(UID, SHIPINFOUID, AUTHCODE, KIND, DESCRIPTION, UPAUTHINFOUID, ORD, STATUS, INSERTBY, INSERTDATE, UPDATEBY, UPDATEDATE)
VALUES(109, 2, 'P_RESULT_MEAL_W', 'PAGE', '승선자 관리 > 실적 집계[쓰기]', 0, 1520, 'ACT', 1, SYSDATE(), 1, SYSDATE());


-- 승선자 관리 > 실적 집계(시운전)[읽기] : P_RESULT_MEAL_R : 1510
-- 승선자 관리 > 실적 집계(시운전)[쓰기] : P_RESULT_MEAL_W : 1510
INSERT INTO authinfo
(UID, SHIPINFOUID, AUTHCODE, KIND, DESCRIPTION, UPAUTHINFOUID, ORD, STATUS, INSERTBY, INSERTDATE, UPDATEBY, UPDATEDATE)
VALUES(110, 2, 'P_CREW_RESULT_MEAL_R', 'PAGE', '승선자 관리 > 실적 집계(시운전)[읽기]', 0, 1610, 'ACT', 1, SYSDATE(), 1, SYSDATE());
INSERT INTO authinfo
(UID, SHIPINFOUID, AUTHCODE, KIND, DESCRIPTION, UPAUTHINFOUID, ORD, STATUS, INSERTBY, INSERTDATE, UPDATEBY, UPDATEDATE)
VALUES(111, 2, 'P_CREW_RESULT_MEAL_W', 'PAGE', '승선자 관리 > 실적 집계(시운전)[쓰기]', 0, 1620, 'ACT', 1, SYSDATE(), 1, SYSDATE());
